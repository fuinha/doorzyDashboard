(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){},38:function(e,t,n){e.exports=n(60)},43:function(e,t,n){},54:function(e,t,n){e.exports=n.p+"static/media/logo_1.486401b5.png"},59:function(e,t,n){e.exports=n.p+"static/media/logo_alternate_plain.0ef8dae3.png"},60:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(22),c=n.n(r),l=(n(43),n(11)),s=n(12),i=n(14),u=n(13),m=n(15),d=(n(20),n(7)),h=n(5),p=Object(h.a)(),f=n(16),E=n(26),b=n.n(E),v=n(33),g=n(34),w=n(3),N=function(){function e(){Object(l.a)(this,e),this.uid=null}return Object(s.a)(e,[{key:"setUid",value:function(e){this.uid=e}}]),e}();Object(w.h)(N,{uid:w.m,setUid:w.d});var O=new N,y=n(9),j=n.n(y);var k=function(e,t){return!!function(e,t){return""!==e&&""!==t&&!!/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)&&!!/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/.test(t)}&&(j.a.auth().signInWithEmailAndPassword(e,t).catch(function(e){return console.log(e)}),!0)},x=(n(53),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleLogout=function(){j.a.auth().signOut().then(function(){O.setUid(null)}).catch(function(e){return console.log(e)})},n.getExpoToken=function(){j.a.firestore().collection("users").get().then(function(e){var t=[];return e.forEach(function(e){console.log(e.data().fname+" "+e.data().lname+" "+e.data().pushToken),t.push(e.data().pushToken)}),t}).catch(function(e){return console.log(e),e})},n.handleChange=function(e){var t=n.state.selectValue;t.includes(e.target.value)?n.setState({selectValue:t.filter(function(t){return t!==e.target.value})}):(t.push(e.target.value),n.setState({selectValue:t})),console.log(n.state.selectValue)},n.handleText=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value),function(){return console.log(n.state.title)})},n.postData=function(){var e=Object(v.a)(b.a.mark(function e(t,n){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},referrer:"no-referrer",body:JSON.stringify(n)});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),n.handleSubmit=function(){var e={tokens:n.state.selectValue,title:n.state.title,content:n.state.content};n.postData("https://powerful-wave-93367.herokuapp.com/selectedUsers",e)&&console.log("SUCCESSFULLY SENT NOTIFICATIONS")},n.state={users:[],selectedUsers:[],title:"",content:"",selectValue:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=j.a.firestore().collection("users"),t=this;e.get().then(function(e){var n=[];e.forEach(function(e){n.push(e.data())}),t.setState({users:n})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state.users.map(function(e,t){return o.a.createElement("option",{value:e.pushToken,key:t},e.fname," ",e.lname)});return o.a.createElement("div",null,o.a.createElement("h1",null,"doorzy Push Notification"),o.a.createElement("p",null,"Send push notifications to your users instantly."),o.a.createElement("button",{onClick:function(){e.handleLogout()}},"Logout"),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("br",null),o.a.createElement("h6",null,"Select users :"),o.a.createElement("select",{multiple:!0,value:this.state.selectValue,onChange:function(t){e.handleChange(t)}},t),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("br",null),o.a.createElement("h6",null,"ENTER NOTIFICATION TITLE :"),o.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:function(t){return e.handleText(t)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("h6",null,"ENTER NOTIFICATION CONTENT :"),o.a.createElement("input",{type:"text",name:"content",value:this.state.content,onChange:function(t){return e.handleText(t)}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("button",{type:"button",onClick:function(){e.handleSubmit()}},"SEND NOTIFICATION"))}}]),t}(o.a.Component)),T=Object(d.a)(x),C=n(17),S=function(){return o.a.createElement("div",{className:"container-fluid bg-primary full-view"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col col-md-6 col-sm-12 offset-md-3 nomatch-wrapper"},o.a.createElement("img",{src:n(54),alt:"No-Match",className:"logo-nomatch"}),o.a.createElement("div",{className:"border-left border-white"},o.a.createElement("h3",{className:"text-white"},"Error 404"),o.a.createElement("p",{className:"text-white"},"The requested URL does not exist on this server."),o.a.createElement("p",{className:"text-white"},"That's all we know")),o.a.createElement(C.b,{to:"/app"},o.a.createElement("button",{className:"btn btn-success"},"Home")))))},I=Object(d.a)(function(e,t){var n=e.match,a=O.uid;return o.a.createElement(f.d,null,o.a.createElement(f.b,{exact:!0,path:"".concat(n.path),render:function(){return a?o.a.createElement(f.a,{to:"".concat(n.path,"/overview")}):o.a.createElement(f.a,{to:"/auth"})}}),o.a.createElement(f.b,{path:"".concat(n.path,"/overview"),render:function(){return a?o.a.createElement(T,null):o.a.createElement(f.a,{to:"/auth"})}}),o.a.createElement(f.b,{component:S}))}),A=n(24),L=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleLogin=function(){k(n.state.username,n.state.password)?console.log("LOGGED IN"):console.log("Unable to login")},n.state={username:"",password:"",error:""},n.handleLogin=n.handleLogin.bind(Object(A.a)(n)),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"col-md-4 offset-md-4 col-sm-12 border my-5 pb-5 pt-3 rounded"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 offset-md-3 col-sm-12"},o.a.createElement("img",{src:n(59),className:"logo-full",alt:"Virestore Logo"}))),o.a.createElement("div",{className:"row p-2 mb-2"},o.a.createElement("div",{className:"col-md-12 col-sm-12"},o.a.createElement("h4",{className:"text-center"},"Sign In"),o.a.createElement("p",{className:"text-center text-secondary"},"Continue to your Virestore Seller Account"))),o.a.createElement("div",{className:"row p-2"},o.a.createElement("div",{className:"col-sm-12 col-md-8 offset-md-2 px-2"},o.a.createElement("input",{type:"email",value:this.state.username,className:"login-form",placeholder:"Email",onChange:function(t){e.setState({username:t.target.value})}}))),o.a.createElement("div",{className:"row p-2"},o.a.createElement("div",{className:"col-sm-12 col-md-8 offset-md-2 px-2"},o.a.createElement("input",{type:"password",className:"login-form",placeholder:"Password",value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}}))),o.a.createElement("div",{className:"row p-2 mt-3"},o.a.createElement("div",{className:"col-sm-12 col-md-8 offset-md-2 px-2"},o.a.createElement("button",{type:"button",className:"button-primary bg-success btn-block",onClick:function(){e.handleLogin()}},"Login"))),o.a.createElement("div",{className:"row p-2 fixed-bottom"},o.a.createElement("div",{className:"col-sm-12 col-md-8 offset-md-2 px-2"},o.a.createElement("p",{className:"text-secondary text-center"},"\xa9 Copyright 2019. Virestore Inc.")))))}}]),t}(o.a.Component),U=Object(d.a)(L),z=Object(d.a)(function(e,t){var n=e.match,a=O.uid;return o.a.createElement(f.d,null,o.a.createElement(f.b,{exact:!0,path:"".concat(n.path),render:function(){return a?o.a.createElement(f.a,{to:"/app"}):o.a.createElement(f.a,{to:"".concat(n.path,"/login")})}}),o.a.createElement(f.b,{path:"".concat(n.path,"/login"),render:function(){return a?o.a.createElement(f.a,{to:"/app"}):o.a.createElement(U,null)}}),o.a.createElement(f.b,{component:S}))}),V=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(f.d,null,o.a.createElement(f.b,{exact:!0,path:"/",render:function(){return o.a.createElement(f.a,{to:"/app"})}}),o.a.createElement(f.b,{path:"/auth",component:z}),o.a.createElement(f.b,{path:"/app",component:I}),o.a.createElement(f.b,{component:S}))}}]),t}(o.a.Component),D=Object(d.a)(V),R={apiKey:"AIzaSyBiEZ2XykTMZm4KmAtu5xMzdqHo-UsXRXA",authDomain:"doorzy-dev.firebaseapp.com",databaseURL:"https://doorzy-dev.firebaseio.com",projectId:"doorzy-dev",storageBucket:"",messagingSenderId:"797207289513",appId:"1:797207289513:web:21bad304cc904949"};j.a.initializeApp(R);var W=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(e){j.a.auth().onAuthStateChanged(function(e){if(e){var t=e.uid;O.setUid(t),p.push("/app")}else O.setUid(null),p.push("/auth")})}},{key:"render",value:function(){return o.a.createElement(D,null)}}]),t}(o.a.Component),P=Object(d.a)(W),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(C.a,null,o.a.createElement(P,{mainStore:O})),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/doorzyDashboard",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/doorzyDashboard","/service-worker.js");F?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):M(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):M(t,e)})}}()}},[[38,1,2]]]);
//# sourceMappingURL=main.38fd30c3.chunk.js.map